<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.ring.mapper.TicketMapper">

<!-- 티켓 구매 -->
	<insert id="order">
		insert into ticket(id, t_date, t_day, t_time, 
						t_a_price, t_j_price, t_c_price, 
						t_a_cnt, t_j_cnt, t_c_cnt, t_total)
		values (#{id}, #{t_date}, #{t_day}, #{t_time}, 
				#{t_a_price}, #{t_j_price}, #{t_c_price}, 
				#{t_a_cnt}, #{t_j_cnt}, #{t_c_cnt}, #{t_total})				
	</insert>

<!-- select : 현재 진행중인 할인이벤트 출력 -->
	<select id="nowsalelist" resultType="com.ring.model.EventVO">
		select * from event
		where e_type = &apos;sale&apos; 
		<![CDATA[
		and (e_start < now() and e_end > now())
		]]> 
	</select>

</mapper>